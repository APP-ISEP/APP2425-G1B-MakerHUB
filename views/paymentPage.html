<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Paiement</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <div class = "payment-container">
        <h1>Paiement</h1>

        <div class="resumeCommande">
            <h2>Résumé de la commande</h2>
            <?php $totalPrice = 0; ?>
            <!-- initialisation var $totalPrice à 0. Va accumuler le prix total des produits-->
            <?php foreach ($products as $product) : ?>
            <!-- passe par chaque produit dans le tab $products -->
                <p>Produit: <span id="product-name"><?= $product['titre']?></span></p>
                <!-- affiche le titre du produit. -->
                <p>Prix: <span id="product-price">€<?= number_format($product['prix'], 2, ',', ' ') ?></span></p>
                <!-- affiche prix du produit en euros avec deux décimales -->
                <?php $totalPrice += $product['prix']; ?>
                <!-- ajoute prix du produit à $totalPrice -->
            <?php endforeach; ?>
            <p>Livraison: <span id="delivery-price">€0.00</span></p>
            <p>Total: <span id="total-price">€<?= number_format($totalPrice, 2, ',', ' ') ?></span></p>
        </div>
        <div class="formulairePaiement">
            <h2>Informations de paiement</h2>
            <form action="paymentPage.php" method="POST">
                <label for="card-number">Numéro de carte:</label>
                <input type="text" id="card-number" name="card-number" required>

                <label for="expiry-date">Date d'expiration:</label>
                <input type="text" id="expiry-date" name="expiry-date" required>

                <label for="cvv">CVV:</label>
                <input type="text" id="cvv" name="cvv" required>

                <input type="hidden" name="total-price" value="<?= $totalPrice ?>">
                <input type="submit" value="Payer">
            </form>
        </div>
    </div>
    <script src="paymentPage.js"></script>
</body>
</html>
   