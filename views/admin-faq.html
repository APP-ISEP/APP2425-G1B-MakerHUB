
        <script>
            xmlhttp = new XMLHttpRequest();
            function setFaq() {
                id = document.getElementById("id_faq").value;
                question = document.getElementById("question_faq").value;
                reponse = document.getElementById("reponse_faq").value;

                try{
                    if (window.XMLHttpRequest) {
                        xmlhttp= new XMLHttpRequest();
                
                    } else {
                        if (window.ActiveXObject)
                            try {
                                xmlhttp= new ActiveXObject("Msxml2.XMLHTTP");
                            } catch (e) {
                                try {
                                    xmlhttp= new ActiveXObject("Microsoft.XMLHTTP");
                                } catch (e) {
                                    return NULL;
                                }
                            }
                    }

                    xmlhttp.onreadystatechange = function ()
                    {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
                        {
                            console.log(xmlhttp.responseText);
                        
                        }
                    }
                        xmlhttp.open("POST", "./php/faq/setFaq.php", true);
                        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                        xmlhttp.send("id="+id+"&reponse="+reponse+"&question="+question);
                        window.location.reload();
                }
                catch(e){
                    console.log(e.toString());
                }
            }

    function deleteFaq(id) {
        try{
            console.log(id);
            if (window.XMLHttpRequest) {
                xmlhttp= new XMLHttpRequest();
            } else {
                if (window.ActiveXObject)
                    try {
                        xmlhttp= new ActiveXObject("Msxml2.XMLHTTP");
                    } catch (e) {
                        try {
                            xmlhttp= new ActiveXObject("Microsoft.XMLHTTP");
                        } catch (e) {
                            return NULL;
                        }
                    }
            }

            xmlhttp.onreadystatechange = function ()
            {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
                {
                    console.log(xmlhttp.responseText);
                }
            }
            xmlhttp.open("GET", "./php/faq/setFaq.php?id="+id, true);
            xmlhttp.send();
            xmlhttp.open("POST","./php/faq/setFaq.php", true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.send("id="+id);
            window.location.reload();
        }
        catch(e){
            console.log(e);
        }
    
}

function showPopUp(id) {
    if (document.getElementById("popup").style.display == "block")
        document.getElementById("popup").style.display = "none";
    else{
        document.getElementById("popup").style.display = "block";

        console.log(id);

        
        xmlhttp.open("GET", "./php/faq/getFaq.php?id_faq=" + id, true);
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                
                //console.log(xmlhttp.responseText);
                //document.getElementById("question_faq").value = question;
                //document.getElementById("reponse_faq").value = reponse;
            }
        };
        xmlhttp.send();
    }
}

        </script>

   <main class="main">
    <div class="mini-menu">
        <a href="panel_admin_produit.php" ><div class="submitButton">Produit</div></a>
        <a href="panel_admin_utilisateur.php" ><div class="submitButton">Utilisateur</div></a>
    </div>

        <section id="faq" class="section content-box">
           
                    <h2>FAQ</h2>
                    <p>Vous pouvez ajouter ou supprimer des questions fréquemment posées.</p>
                    
                    <form action="./php/faq/addFaq.php" method="POST">
                        <label for="question">Question</label>  
                        <br>  
                        <textarea type="text" name="question" placeholder="Question"></textarea>
                        <br>
                        <label for="reponse">Réponse</label>
                        <br>
                        <textarea type="text" name="reponse" placeholder="Réponse"></textarea>
                        <br>
                        <input class="submit" type="submit" value="Ajouter">
                    </form>

                    <table>
                        <tr>
                            <th>Question</th>
                            <th>Réponse</th>
                            <th><th></th></th>
                        </tr>
                       <?php
                       foreach($faqs as $faq) {
                            $question = $faq['question'];
                            $reponse = $faq['reponse'];
                            $id = $faq['id_faq'];
                        ?>

                            <tr>
                                <td><?php echo($question);?></td>
                                <td><?php echo($reponse);?></td>
                                <td><a onclick="deleteFaq(<?php echo($id);?>)"><button class="submit"><i class="fa-regular fa-trash-can" style="color: #ffffff;"></i></button></a></td>
                                <td><a onclick="showPopUp(<?php echo($id);?>)"><button class="submit"><i class="fa-regular fa-pen-to-square" style="color: #ffffff;"></i></button></a></td>
                            </tr>

                            <div id="popup" class="popup" style="display:none;">
                            <br>
                            <h2>Modifier la FAQ</h2>
                            <p>Vous pouvez modifier la question et la réponse de la FAQ.</p>
                            <br>
                            <form onsubmit="setFaq()">
                                <label for="question">Question</label>  
                                <br>  
                                <textarea type="text" id="question_faq" name="question"><?php echo($question);?></textarea>
                                <br>
                                <label for="reponse">Réponse</label>
                                <br>
                                <textarea type="text" id="reponse_faq" name="reponse"><?php echo($reponse);?></textarea>
                                <input type="hidden" id="id_faq" name="id" value="<?php echo($id);?>">
                                <input class="submit" type="submit" value="Modifier">
                            </form>
                            </div>
                        <?php } ?>
                    </table>
                </section>
    </main> 